<div id="utterances-container"></div>

<script>
  const script = document.createElement("script");
  const container = document.querySelector("#utterances-container");
  const currentTheme = localStorage.getItem("theme");

  // Set configurations
  Object.entries({
    src: "https://utteranc.es/client.js",
    repo: "tkhwang/tkhwang-blog-utterances-comment",
    "issue-term": "pathname",
    label: "post comments",
    theme: currentTheme == "light" ? "github-light" : "github-dark",
    crossorigin: "anonymous",
  }).forEach(([key, value]) => {
    script.setAttribute(key, value);
  });

  container?.appendChild(script);
</script>
